<div class="suggesteddiv">
  
  <h4>Suggested</h4>
  <table class="suggested">
    <tr class="head" ng-show="suggested.countHeroes()"><td style="width:100px"></td><td>Heroes (Starting threat: {{suggested.startingThreat()}})</td></tr>
    <tr class="card" ng-repeat="card in suggested['1hero'] | orderBy:['sphere','name_norm']" ng-mouseover="suggestedC.changepreview(card)">
      <td style="font-size:0;text-align:center;">
        <button class="cardbutton" ng-class="{selected: suggested.quantity(card)==0}" ng-click="suggested.change(card,0)">X</button>
      </td>
      <td class="c{{card.sphere}}">{{card.name}}</td></li>
    <tr class="head" ng-show="suggested.countAllies()"><td></td><td>Allies ({{suggested.countAllies()}})</td></tr>
    <tr class="card" ng-repeat="card in suggested['2ally'] | orderBy:['sphere','name_norm']" ng-mouseover="suggestedC.changepreview(card)">
      <td style="font-size:0;">
        <button class="cardbutton" ng-class="{selected: suggested.quantity(card)==0}" ng-click="suggested.change(card,0)">X</button>
        <button class="cardbutton" ng-class="{selected: suggested.quantity(card)==1}" ng-click="suggested.change(card,1)">1</button>
        <button class="cardbutton" ng-class="{selected: suggested.quantity(card)==2}" ng-click="suggested.change(card,2)" ng-hide="card.restrict || (suggested.filtersettings.onecore && card.corequantity < 2 && suggested.quantity(card)<2 )">2</button>
        <button class="cardbutton" ng-class="{selected: suggested.quantity(card)==3}" ng-click="suggested.change(card,3)" ng-hide="card.restrict || (suggested.filtersettings.onecore && card.corequantity < 3 && suggested.quantity(card)<3 ) || (suggested.filtersettings.twocore && card.corequantity < 2 && suggested.quantity(card) < 3)">3</button>
      </td>
      <td class="c{{card.sphere}}">{{card.name}}</td></li>
    <tr class="head" ng-show="suggested.countAttachments()"><td></td><td>Attachments ({{suggested.countAttachments()}})</td></tr>
    <tr class="card" ng-repeat="card in suggested['3attachment'] | orderBy:['sphere','name_norm']" ng-mouseover="suggestedC.changepreview(card)">
      <td style="font-size:0;">
        <button class="cardbutton" ng-class="{selected: suggested.quantity(card)==0}" ng-click="suggested.change(card,0)">X</button>
        <button class="cardbutton" ng-class="{selected: suggested.quantity(card)==1}" ng-click="suggested.change(card,1)">1</button>
        <button class="cardbutton" ng-class="{selected: suggested.quantity(card)==2}" ng-click="suggested.change(card,2)" ng-hide="card.restrict || (suggested.filtersettings.onecore && card.corequantity < 2 && suggested.quantity(card)<2 )">2</button>
        <button class="cardbutton" ng-class="{selected: suggested.quantity(card)==3}" ng-click="suggested.change(card,3)" ng-hide="card.restrict || (suggested.filtersettings.onecore && card.corequantity < 3 && suggested.quantity(card)<3 ) || (suggested.filtersettings.twocore && card.corequantity < 2 && suggested.quantity(card) < 3)">3</button>
      </td>
      <td class="c{{card.sphere}}">{{card.name}}</td></li>
    <tr class="head" ng-show="suggested.countEvents()"><td></td><td>Events ({{suggested.countEvents()}})</td></tr>
    <tr class="card" ng-repeat="card in suggested['4event'] | orderBy:['sphere','name_norm']" ng-mouseover="suggestedC.changepreview(card)">
      <td style="font-size:0;">
        <button class="cardbutton" ng-class="{selected: suggested.quantity(card)==0}" ng-click="suggested.change(card,0)">X</button>
        <button class="cardbutton" ng-class="{selected: suggested.quantity(card)==1}" ng-click="suggested.change(card,1)">1</button>
        <button class="cardbutton" ng-class="{selected: suggested.quantity(card)==2}" ng-click="suggested.change(card,2)" ng-hide="card.restrict || (suggested.filtersettings.onecore && card.corequantity < 2 && suggested.quantity(card)<2 )">2</button>
        <button class="cardbutton" ng-class="{selected: suggested.quantity(card)==3}" ng-click="suggested.change(card,3)" ng-hide="card.restrict || (suggested.filtersettings.onecore && card.corequantity < 3 && suggested.quantity(card)<3 ) || (suggested.filtersettings.twocore && card.corequantity < 2 && suggested.quantity(card) < 3)">3</button>
      </td>
      <td class="c{{card.sphere}}">{{card.name}}</td></tr>
    <tr class="head" ng-show="suggested.countQuests()"><td></td><td>Quests ({{suggested.countQuests()}})</td></tr>
    <tr class="card" ng-repeat="card in suggested['5quest'] | orderBy:['sphere','name_norm']" ng-mouseover="suggestedC.changepreview(card)">
      <td style="font-size:0;">
        <button class="cardbutton" ng-class="{selected: suggested.quantity(card)==0}" ng-click="suggested.change(card,0)">X</button>
        <button class="cardbutton" ng-class="{selected: suggested.quantity(card)==1}" ng-click="suggested.change(card,1)">1</button>
        <button class="cardbutton" ng-class="{selected: suggested.quantity(card)==2}" ng-click="suggested.change(card,2)" ng-hide="card.restrict || (suggested.filtersettings.onecore && card.corequantity < 2 && suggested.quantity(card)<2 )">2</button>
        <button class="cardbutton" ng-class="{selected: suggested.quantity(card)==3}" ng-click="suggested.change(card,3)" ng-hide="card.restrict || (suggested.filtersettings.onecore && card.corequantity < 3 && suggested.quantity(card)<3 ) || (suggested.filtersettings.twocore && card.corequantity < 2 && suggested.quantity(card) < 3)">3</button>
      </td>
      <td class="c{{card.sphere}}">{{card.name}}</td></tr>
  </table>
</div>
